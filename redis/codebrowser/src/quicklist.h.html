<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>quicklist.h source code [codebrowser/src/quicklist.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="quicklist,quicklistEntry,quicklistIter,quicklistLZF,quicklistNode "/>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/src/quicklist.h'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>src</a>/<a href='quicklist.h.html'>quicklist.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* quicklist.h - A generic doubly linked quicklist implementation</i></td></tr>
<tr><th id="2">2</th><td><i> *</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (c) 2014, Matt Stancliff &lt;matt@genges.com&gt;</i></td></tr>
<tr><th id="4">4</th><td><i> * All rights reserved.</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="7">7</th><td><i> * modification, are permitted provided that the following conditions are met:</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> *   * Redistributions of source code must retain the above copyright notice,</i></td></tr>
<tr><th id="10">10</th><td><i> *     this quicklist of conditions and the following disclaimer.</i></td></tr>
<tr><th id="11">11</th><td><i> *   * Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="12">12</th><td><i> *     notice, this quicklist of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="13">13</th><td><i> *     documentation and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="14">14</th><td><i> *   * Neither the name of Redis nor the names of its contributors may be used</i></td></tr>
<tr><th id="15">15</th><td><i> *     to endorse or promote products derived from this software without</i></td></tr>
<tr><th id="16">16</th><td><i> *     specific prior written permission.</i></td></tr>
<tr><th id="17">17</th><td><i> *</i></td></tr>
<tr><th id="18">18</th><td><i> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</i></td></tr>
<tr><th id="19">19</th><td><i> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</i></td></tr>
<tr><th id="20">20</th><td><i> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</i></td></tr>
<tr><th id="21">21</th><td><i> * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</i></td></tr>
<tr><th id="22">22</th><td><i> * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</i></td></tr>
<tr><th id="23">23</th><td><i> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</i></td></tr>
<tr><th id="24">24</th><td><i> * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</i></td></tr>
<tr><th id="25">25</th><td><i> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</i></td></tr>
<tr><th id="26">26</th><td><i> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</i></td></tr>
<tr><th id="27">27</th><td><i> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</i></td></tr>
<tr><th id="28">28</th><td><i> * POSSIBILITY OF SUCH DAMAGE.</i></td></tr>
<tr><th id="29">29</th><td><i> */</i></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="31">ifndef</span> <span class="macro" data-ref="_M/__QUICKLIST_H__">__QUICKLIST_H__</span></u></td></tr>
<tr><th id="32">32</th><td><u>#define <dfn class="macro" id="_M/__QUICKLIST_H__" data-ref="_M/__QUICKLIST_H__">__QUICKLIST_H__</dfn></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><i>/* Node, quicklist, and Iterator are the only data structures used currently. */</i></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><i>/* quicklistNode is a 32 byte struct describing a ziplist for a quicklist.</i></td></tr>
<tr><th id="37">37</th><td><i> * We use bit fields keep the quicklistNode at 32 bytes.</i></td></tr>
<tr><th id="38">38</th><td><i> * count: 16 bits, max 65536 (max zl bytes is 65k, so max count actually &lt; 32k).</i></td></tr>
<tr><th id="39">39</th><td><i> * encoding: 2 bits, RAW=1, LZF=2.</i></td></tr>
<tr><th id="40">40</th><td><i> * container: 2 bits, NONE=1, ZIPLIST=2.</i></td></tr>
<tr><th id="41">41</th><td><i> * recompress: 1 bit, bool, true if node is temporarry decompressed for usage.</i></td></tr>
<tr><th id="42">42</th><td><i> * attempted_compress: 1 bit, boolean, used for verifying during testing.</i></td></tr>
<tr><th id="43">43</th><td><i> * extra: 12 bits, free for future use; pads out the remainder of 32 bits */</i></td></tr>
<tr><th id="44">44</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="quicklistNode" title='quicklistNode' data-ref="quicklistNode"><a class="type" href="#quicklistNode" title='quicklistNode' data-ref="quicklistNode">quicklistNode</a></dfn> {</td></tr>
<tr><th id="45">45</th><td>    <b>struct</b> <a class="type" href="#quicklistNode" title='quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklistNode::prev" title='quicklistNode::prev' data-ref="quicklistNode::prev">prev</dfn>;</td></tr>
<tr><th id="46">46</th><td>    <b>struct</b> <a class="type" href="#quicklistNode" title='quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklistNode::next" title='quicklistNode::next' data-ref="quicklistNode::next">next</dfn>;</td></tr>
<tr><th id="47">47</th><td>    <em>unsigned</em> <em>char</em> *<dfn class="decl" id="quicklistNode::zl" title='quicklistNode::zl' data-ref="quicklistNode::zl">zl</dfn>;</td></tr>
<tr><th id="48">48</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::sz" title='quicklistNode::sz' data-ref="quicklistNode::sz">sz</dfn>;             <i>/* ziplist size in bytes */</i></td></tr>
<tr><th id="49">49</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::count" title='quicklistNode::count' data-ref="quicklistNode::count">count</dfn> : <var>16</var>;     <i>/* count of items in ziplist */</i></td></tr>
<tr><th id="50">50</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::encoding" title='quicklistNode::encoding' data-ref="quicklistNode::encoding">encoding</dfn> : <var>2</var>;   <i>/* RAW==1 or LZF==2 */</i></td></tr>
<tr><th id="51">51</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::container" title='quicklistNode::container' data-ref="quicklistNode::container">container</dfn> : <var>2</var>;  <i>/* NONE==1 or ZIPLIST==2 */</i></td></tr>
<tr><th id="52">52</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::recompress" title='quicklistNode::recompress' data-ref="quicklistNode::recompress">recompress</dfn> : <var>1</var>; <i>/* was this node previous compressed? */</i></td></tr>
<tr><th id="53">53</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::attempted_compress" title='quicklistNode::attempted_compress' data-ref="quicklistNode::attempted_compress">attempted_compress</dfn> : <var>1</var>; <i>/* node can't compress; too small */</i></td></tr>
<tr><th id="54">54</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistNode::extra" title='quicklistNode::extra' data-ref="quicklistNode::extra">extra</dfn> : <var>10</var>; <i>/* more bits to steal for future usage */</i></td></tr>
<tr><th id="55">55</th><td>} <dfn class="typedef" id="quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</dfn>;</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><i>/* quicklistLZF is a 4+N byte struct holding 'sz' followed by 'compressed'.</i></td></tr>
<tr><th id="58">58</th><td><i> * 'sz' is byte length of 'compressed' field.</i></td></tr>
<tr><th id="59">59</th><td><i> * 'compressed' is LZF data with total (compressed) length 'sz'</i></td></tr>
<tr><th id="60">60</th><td><i> * NOTE: uncompressed length is stored in quicklistNode-&gt;sz.</i></td></tr>
<tr><th id="61">61</th><td><i> * When quicklistNode-&gt;zl is compressed, node-&gt;zl points to a quicklistLZF */</i></td></tr>
<tr><th id="62">62</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="quicklistLZF" title='quicklistLZF' data-ref="quicklistLZF"><a class="type" href="#quicklistLZF" title='quicklistLZF' data-ref="quicklistLZF">quicklistLZF</a></dfn> {</td></tr>
<tr><th id="63">63</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistLZF::sz" title='quicklistLZF::sz' data-ref="quicklistLZF::sz">sz</dfn>; <i>/* LZF size in bytes*/</i></td></tr>
<tr><th id="64">64</th><td>    <em>char</em> <dfn class="decl" id="quicklistLZF::compressed" title='quicklistLZF::compressed' data-ref="quicklistLZF::compressed">compressed</dfn>[];</td></tr>
<tr><th id="65">65</th><td>} <dfn class="typedef" id="quicklistLZF" title='quicklistLZF' data-type='struct quicklistLZF' data-ref="quicklistLZF">quicklistLZF</dfn>;</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><i>/* quicklist is a 32 byte struct (on 64-bit systems) describing a quicklist.</i></td></tr>
<tr><th id="68">68</th><td><i> * 'count' is the number of total entries.</i></td></tr>
<tr><th id="69">69</th><td><i> * 'len' is the number of quicklist nodes.</i></td></tr>
<tr><th id="70">70</th><td><i> * 'compress' is: -1 if compression disabled, otherwise it's the number</i></td></tr>
<tr><th id="71">71</th><td><i> *                of quicklistNodes to leave uncompressed at ends of quicklist.</i></td></tr>
<tr><th id="72">72</th><td><i> * 'fill' is the user-requested (or default) fill factor. */</i></td></tr>
<tr><th id="73">73</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="quicklist" title='quicklist' data-ref="quicklist"><a class="type" href="#quicklist" title='quicklist' data-ref="quicklist">quicklist</a></dfn> {</td></tr>
<tr><th id="74">74</th><td>    <a class="typedef" href="#quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklist::head" title='quicklist::head' data-ref="quicklist::head">head</dfn>;</td></tr>
<tr><th id="75">75</th><td>    <a class="typedef" href="#quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklist::tail" title='quicklist::tail' data-ref="quicklist::tail">tail</dfn>;</td></tr>
<tr><th id="76">76</th><td>    <em>unsigned</em> <em>long</em> <dfn class="decl" id="quicklist::count" title='quicklist::count' data-ref="quicklist::count">count</dfn>;        <i>/* total count of all entries in all ziplists */</i></td></tr>
<tr><th id="77">77</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklist::len" title='quicklist::len' data-ref="quicklist::len">len</dfn>;           <i>/* number of quicklistNodes */</i></td></tr>
<tr><th id="78">78</th><td>    <em>int</em> <dfn class="decl" id="quicklist::fill" title='quicklist::fill' data-ref="quicklist::fill">fill</dfn> : <var>16</var>;              <i>/* fill factor for individual nodes */</i></td></tr>
<tr><th id="79">79</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklist::compress" title='quicklist::compress' data-ref="quicklist::compress">compress</dfn> : <var>16</var>; <i>/* depth of end nodes not to compress;0=off */</i></td></tr>
<tr><th id="80">80</th><td>} <dfn class="typedef" id="quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</dfn>;</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="quicklistIter" title='quicklistIter' data-ref="quicklistIter"><a class="type" href="#quicklistIter" title='quicklistIter' data-ref="quicklistIter">quicklistIter</a></dfn> {</td></tr>
<tr><th id="83">83</th><td>    <em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistIter::quicklist" title='quicklistIter::quicklist' data-ref="quicklistIter::quicklist">quicklist</dfn>;</td></tr>
<tr><th id="84">84</th><td>    <a class="typedef" href="#quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklistIter::current" title='quicklistIter::current' data-ref="quicklistIter::current">current</dfn>;</td></tr>
<tr><th id="85">85</th><td>    <em>unsigned</em> <em>char</em> *<dfn class="decl" id="quicklistIter::zi" title='quicklistIter::zi' data-ref="quicklistIter::zi">zi</dfn>;</td></tr>
<tr><th id="86">86</th><td>    <em>long</em> <dfn class="decl" id="quicklistIter::offset" title='quicklistIter::offset' data-ref="quicklistIter::offset">offset</dfn>; <i>/* offset in current ziplist */</i></td></tr>
<tr><th id="87">87</th><td>    <em>int</em> <dfn class="decl" id="quicklistIter::direction" title='quicklistIter::direction' data-ref="quicklistIter::direction">direction</dfn>;</td></tr>
<tr><th id="88">88</th><td>} <dfn class="typedef" id="quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</dfn>;</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="quicklistEntry" title='quicklistEntry' data-ref="quicklistEntry"><a class="type" href="#quicklistEntry" title='quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a></dfn> {</td></tr>
<tr><th id="91">91</th><td>    <em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistEntry::quicklist" title='quicklistEntry::quicklist' data-ref="quicklistEntry::quicklist">quicklist</dfn>;</td></tr>
<tr><th id="92">92</th><td>    <a class="typedef" href="#quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="decl" id="quicklistEntry::node" title='quicklistEntry::node' data-ref="quicklistEntry::node">node</dfn>;</td></tr>
<tr><th id="93">93</th><td>    <em>unsigned</em> <em>char</em> *<dfn class="decl" id="quicklistEntry::zi" title='quicklistEntry::zi' data-ref="quicklistEntry::zi">zi</dfn>;</td></tr>
<tr><th id="94">94</th><td>    <em>unsigned</em> <em>char</em> *<dfn class="decl" id="quicklistEntry::value" title='quicklistEntry::value' data-ref="quicklistEntry::value">value</dfn>;</td></tr>
<tr><th id="95">95</th><td>    <em>long</em> <em>long</em> <dfn class="decl" id="quicklistEntry::longval" title='quicklistEntry::longval' data-ref="quicklistEntry::longval">longval</dfn>;</td></tr>
<tr><th id="96">96</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistEntry::sz" title='quicklistEntry::sz' data-ref="quicklistEntry::sz">sz</dfn>;</td></tr>
<tr><th id="97">97</th><td>    <em>int</em> <dfn class="decl" id="quicklistEntry::offset" title='quicklistEntry::offset' data-ref="quicklistEntry::offset">offset</dfn>;</td></tr>
<tr><th id="98">98</th><td>} <dfn class="typedef" id="quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</dfn>;</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_HEAD" data-ref="_M/QUICKLIST_HEAD">QUICKLIST_HEAD</dfn> 0</u></td></tr>
<tr><th id="101">101</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_TAIL" data-ref="_M/QUICKLIST_TAIL">QUICKLIST_TAIL</dfn> -1</u></td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><i>/* quicklist node encodings */</i></td></tr>
<tr><th id="104">104</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_NODE_ENCODING_RAW" data-ref="_M/QUICKLIST_NODE_ENCODING_RAW">QUICKLIST_NODE_ENCODING_RAW</dfn> 1</u></td></tr>
<tr><th id="105">105</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_NODE_ENCODING_LZF" data-ref="_M/QUICKLIST_NODE_ENCODING_LZF">QUICKLIST_NODE_ENCODING_LZF</dfn> 2</u></td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td><i>/* quicklist compression disable */</i></td></tr>
<tr><th id="108">108</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_NOCOMPRESS" data-ref="_M/QUICKLIST_NOCOMPRESS">QUICKLIST_NOCOMPRESS</dfn> 0</u></td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><i>/* quicklist container formats */</i></td></tr>
<tr><th id="111">111</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_NODE_CONTAINER_NONE" data-ref="_M/QUICKLIST_NODE_CONTAINER_NONE">QUICKLIST_NODE_CONTAINER_NONE</dfn> 1</u></td></tr>
<tr><th id="112">112</th><td><u>#define <dfn class="macro" id="_M/QUICKLIST_NODE_CONTAINER_ZIPLIST" data-ref="_M/QUICKLIST_NODE_CONTAINER_ZIPLIST">QUICKLIST_NODE_CONTAINER_ZIPLIST</dfn> 2</u></td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><u>#define <dfn class="macro" id="_M/quicklistNodeIsCompressed" data-ref="_M/quicklistNodeIsCompressed">quicklistNodeIsCompressed</dfn>(node)                                        \</u></td></tr>
<tr><th id="115">115</th><td><u>    ((node)-&gt;encoding == QUICKLIST_NODE_ENCODING_LZF)</u></td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><i>/* Prototypes */</i></td></tr>
<tr><th id="118">118</th><td><a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistCreate" title='quicklistCreate' data-ref="quicklistCreate">quicklistCreate</dfn>(<em>void</em>);</td></tr>
<tr><th id="119">119</th><td><a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistNew" title='quicklistNew' data-ref="quicklistNew">quicklistNew</dfn>(<em>int</em> <dfn class="local col9 decl" id="319fill" title='fill' data-type='int' data-ref="319fill">fill</dfn>, <em>int</em> <dfn class="local col0 decl" id="320compress" title='compress' data-type='int' data-ref="320compress">compress</dfn>);</td></tr>
<tr><th id="120">120</th><td><em>void</em> <dfn class="decl" id="quicklistSetCompressDepth" title='quicklistSetCompressDepth' data-ref="quicklistSetCompressDepth">quicklistSetCompressDepth</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col1 decl" id="321quicklist" title='quicklist' data-type='quicklist *' data-ref="321quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col2 decl" id="322depth" title='depth' data-type='int' data-ref="322depth">depth</dfn>);</td></tr>
<tr><th id="121">121</th><td><em>void</em> <dfn class="decl" id="quicklistSetFill" title='quicklistSetFill' data-ref="quicklistSetFill">quicklistSetFill</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col3 decl" id="323quicklist" title='quicklist' data-type='quicklist *' data-ref="323quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col4 decl" id="324fill" title='fill' data-type='int' data-ref="324fill">fill</dfn>);</td></tr>
<tr><th id="122">122</th><td><em>void</em> <dfn class="decl" id="quicklistSetOptions" title='quicklistSetOptions' data-ref="quicklistSetOptions">quicklistSetOptions</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col5 decl" id="325quicklist" title='quicklist' data-type='quicklist *' data-ref="325quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col6 decl" id="326fill" title='fill' data-type='int' data-ref="326fill">fill</dfn>, <em>int</em> <dfn class="local col7 decl" id="327depth" title='depth' data-type='int' data-ref="327depth">depth</dfn>);</td></tr>
<tr><th id="123">123</th><td><em>void</em> <dfn class="decl" id="quicklistRelease" title='quicklistRelease' data-ref="quicklistRelease">quicklistRelease</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col8 decl" id="328quicklist" title='quicklist' data-type='quicklist *' data-ref="328quicklist">quicklist</dfn>);</td></tr>
<tr><th id="124">124</th><td><em>int</em> <dfn class="decl" id="quicklistPushHead" title='quicklistPushHead' data-ref="quicklistPushHead">quicklistPushHead</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col9 decl" id="329quicklist" title='quicklist' data-type='quicklist *' data-ref="329quicklist">quicklist</dfn>, <em>void</em> *<dfn class="local col0 decl" id="330value" title='value' data-type='void *' data-ref="330value">value</dfn>, <em>const</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="331sz" title='sz' data-type='const size_t' data-ref="331sz">sz</dfn>);</td></tr>
<tr><th id="125">125</th><td><em>int</em> <dfn class="decl" id="quicklistPushTail" title='quicklistPushTail' data-ref="quicklistPushTail">quicklistPushTail</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col2 decl" id="332quicklist" title='quicklist' data-type='quicklist *' data-ref="332quicklist">quicklist</dfn>, <em>void</em> *<dfn class="local col3 decl" id="333value" title='value' data-type='void *' data-ref="333value">value</dfn>, <em>const</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="334sz" title='sz' data-type='const size_t' data-ref="334sz">sz</dfn>);</td></tr>
<tr><th id="126">126</th><td><em>void</em> <dfn class="decl" id="quicklistPush" title='quicklistPush' data-ref="quicklistPush">quicklistPush</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col5 decl" id="335quicklist" title='quicklist' data-type='quicklist *' data-ref="335quicklist">quicklist</dfn>, <em>void</em> *<dfn class="local col6 decl" id="336value" title='value' data-type='void *' data-ref="336value">value</dfn>, <em>const</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="337sz" title='sz' data-type='const size_t' data-ref="337sz">sz</dfn>,</td></tr>
<tr><th id="127">127</th><td>                   <em>int</em> <dfn class="local col8 decl" id="338where" title='where' data-type='int' data-ref="338where">where</dfn>);</td></tr>
<tr><th id="128">128</th><td><em>void</em> <dfn class="decl" id="quicklistAppendZiplist" title='quicklistAppendZiplist' data-ref="quicklistAppendZiplist">quicklistAppendZiplist</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col9 decl" id="339quicklist" title='quicklist' data-type='quicklist *' data-ref="339quicklist">quicklist</dfn>, <em>unsigned</em> <em>char</em> *<dfn class="local col0 decl" id="340zl" title='zl' data-type='unsigned char *' data-ref="340zl">zl</dfn>);</td></tr>
<tr><th id="129">129</th><td><a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistAppendValuesFromZiplist" title='quicklistAppendValuesFromZiplist' data-ref="quicklistAppendValuesFromZiplist">quicklistAppendValuesFromZiplist</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col1 decl" id="341quicklist" title='quicklist' data-type='quicklist *' data-ref="341quicklist">quicklist</dfn>,</td></tr>
<tr><th id="130">130</th><td>                                            <em>unsigned</em> <em>char</em> *<dfn class="local col2 decl" id="342zl" title='zl' data-type='unsigned char *' data-ref="342zl">zl</dfn>);</td></tr>
<tr><th id="131">131</th><td><a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistCreateFromZiplist" title='quicklistCreateFromZiplist' data-ref="quicklistCreateFromZiplist">quicklistCreateFromZiplist</dfn>(<em>int</em> <dfn class="local col3 decl" id="343fill" title='fill' data-type='int' data-ref="343fill">fill</dfn>, <em>int</em> <dfn class="local col4 decl" id="344compress" title='compress' data-type='int' data-ref="344compress">compress</dfn>,</td></tr>
<tr><th id="132">132</th><td>                                      <em>unsigned</em> <em>char</em> *<dfn class="local col5 decl" id="345zl" title='zl' data-type='unsigned char *' data-ref="345zl">zl</dfn>);</td></tr>
<tr><th id="133">133</th><td><em>void</em> <dfn class="decl" id="quicklistInsertAfter" title='quicklistInsertAfter' data-ref="quicklistInsertAfter">quicklistInsertAfter</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col6 decl" id="346quicklist" title='quicklist' data-type='quicklist *' data-ref="346quicklist">quicklist</dfn>, <a class="typedef" href="#quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a> *<dfn class="local col7 decl" id="347node" title='node' data-type='quicklistEntry *' data-ref="347node">node</dfn>,</td></tr>
<tr><th id="134">134</th><td>                          <em>void</em> *<dfn class="local col8 decl" id="348value" title='value' data-type='void *' data-ref="348value">value</dfn>, <em>const</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="349sz" title='sz' data-type='const size_t' data-ref="349sz">sz</dfn>);</td></tr>
<tr><th id="135">135</th><td><em>void</em> <dfn class="decl" id="quicklistInsertBefore" title='quicklistInsertBefore' data-ref="quicklistInsertBefore">quicklistInsertBefore</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col0 decl" id="350quicklist" title='quicklist' data-type='quicklist *' data-ref="350quicklist">quicklist</dfn>, <a class="typedef" href="#quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a> *<dfn class="local col1 decl" id="351node" title='node' data-type='quicklistEntry *' data-ref="351node">node</dfn>,</td></tr>
<tr><th id="136">136</th><td>                           <em>void</em> *<dfn class="local col2 decl" id="352value" title='value' data-type='void *' data-ref="352value">value</dfn>, <em>const</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col3 decl" id="353sz" title='sz' data-type='const size_t' data-ref="353sz">sz</dfn>);</td></tr>
<tr><th id="137">137</th><td><em>void</em> <dfn class="decl" id="quicklistDelEntry" title='quicklistDelEntry' data-ref="quicklistDelEntry">quicklistDelEntry</dfn>(<a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="local col4 decl" id="354iter" title='iter' data-type='quicklistIter *' data-ref="354iter">iter</dfn>, <a class="typedef" href="#quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a> *<dfn class="local col5 decl" id="355entry" title='entry' data-type='quicklistEntry *' data-ref="355entry">entry</dfn>);</td></tr>
<tr><th id="138">138</th><td><em>int</em> <dfn class="decl" id="quicklistReplaceAtIndex" title='quicklistReplaceAtIndex' data-ref="quicklistReplaceAtIndex">quicklistReplaceAtIndex</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col6 decl" id="356quicklist" title='quicklist' data-type='quicklist *' data-ref="356quicklist">quicklist</dfn>, <em>long</em> <dfn class="local col7 decl" id="357index" title='index' data-type='long' data-ref="357index">index</dfn>, <em>void</em> *<dfn class="local col8 decl" id="358data" title='data' data-type='void *' data-ref="358data">data</dfn>,</td></tr>
<tr><th id="139">139</th><td>                            <em>int</em> <dfn class="local col9 decl" id="359sz" title='sz' data-type='int' data-ref="359sz">sz</dfn>);</td></tr>
<tr><th id="140">140</th><td><em>int</em> <dfn class="decl" id="quicklistDelRange" title='quicklistDelRange' data-ref="quicklistDelRange">quicklistDelRange</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col0 decl" id="360quicklist" title='quicklist' data-type='quicklist *' data-ref="360quicklist">quicklist</dfn>, <em>const</em> <em>long</em> <dfn class="local col1 decl" id="361start" title='start' data-type='const long' data-ref="361start">start</dfn>, <em>const</em> <em>long</em> <dfn class="local col2 decl" id="362stop" title='stop' data-type='const long' data-ref="362stop">stop</dfn>);</td></tr>
<tr><th id="141">141</th><td><a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="decl" id="quicklistGetIterator" title='quicklistGetIterator' data-ref="quicklistGetIterator">quicklistGetIterator</dfn>(<em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col3 decl" id="363quicklist" title='quicklist' data-type='const quicklist *' data-ref="363quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col4 decl" id="364direction" title='direction' data-type='int' data-ref="364direction">direction</dfn>);</td></tr>
<tr><th id="142">142</th><td><a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="decl" id="quicklistGetIteratorAtIdx" title='quicklistGetIteratorAtIdx' data-ref="quicklistGetIteratorAtIdx">quicklistGetIteratorAtIdx</dfn>(<em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col5 decl" id="365quicklist" title='quicklist' data-type='const quicklist *' data-ref="365quicklist">quicklist</dfn>,</td></tr>
<tr><th id="143">143</th><td>                                         <em>int</em> <dfn class="local col6 decl" id="366direction" title='direction' data-type='int' data-ref="366direction">direction</dfn>, <em>const</em> <em>long</em> <em>long</em> <dfn class="local col7 decl" id="367idx" title='idx' data-type='const long long' data-ref="367idx">idx</dfn>);</td></tr>
<tr><th id="144">144</th><td><em>int</em> <dfn class="decl" id="quicklistNext" title='quicklistNext' data-ref="quicklistNext">quicklistNext</dfn>(<a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="local col8 decl" id="368iter" title='iter' data-type='quicklistIter *' data-ref="368iter">iter</dfn>, <a class="typedef" href="#quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a> *<dfn class="local col9 decl" id="369node" title='node' data-type='quicklistEntry *' data-ref="369node">node</dfn>);</td></tr>
<tr><th id="145">145</th><td><em>void</em> <dfn class="decl" id="quicklistReleaseIterator" title='quicklistReleaseIterator' data-ref="quicklistReleaseIterator">quicklistReleaseIterator</dfn>(<a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="local col0 decl" id="370iter" title='iter' data-type='quicklistIter *' data-ref="370iter">iter</dfn>);</td></tr>
<tr><th id="146">146</th><td><a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="decl" id="quicklistDup" title='quicklistDup' data-ref="quicklistDup">quicklistDup</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col1 decl" id="371orig" title='orig' data-type='quicklist *' data-ref="371orig">orig</dfn>);</td></tr>
<tr><th id="147">147</th><td><em>int</em> <dfn class="decl" id="quicklistIndex" title='quicklistIndex' data-ref="quicklistIndex">quicklistIndex</dfn>(<em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col2 decl" id="372quicklist" title='quicklist' data-type='const quicklist *' data-ref="372quicklist">quicklist</dfn>, <em>const</em> <em>long</em> <em>long</em> <dfn class="local col3 decl" id="373index" title='index' data-type='const long long' data-ref="373index">index</dfn>,</td></tr>
<tr><th id="148">148</th><td>                   <a class="typedef" href="#quicklistEntry" title='quicklistEntry' data-type='struct quicklistEntry' data-ref="quicklistEntry">quicklistEntry</a> *<dfn class="local col4 decl" id="374entry" title='entry' data-type='quicklistEntry *' data-ref="374entry">entry</dfn>);</td></tr>
<tr><th id="149">149</th><td><em>void</em> <dfn class="decl" id="quicklistRewind" title='quicklistRewind' data-ref="quicklistRewind">quicklistRewind</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col5 decl" id="375quicklist" title='quicklist' data-type='quicklist *' data-ref="375quicklist">quicklist</dfn>, <a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="local col6 decl" id="376li" title='li' data-type='quicklistIter *' data-ref="376li">li</dfn>);</td></tr>
<tr><th id="150">150</th><td><em>void</em> <dfn class="decl" id="quicklistRewindTail" title='quicklistRewindTail' data-ref="quicklistRewindTail">quicklistRewindTail</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col7 decl" id="377quicklist" title='quicklist' data-type='quicklist *' data-ref="377quicklist">quicklist</dfn>, <a class="typedef" href="#quicklistIter" title='quicklistIter' data-type='struct quicklistIter' data-ref="quicklistIter">quicklistIter</a> *<dfn class="local col8 decl" id="378li" title='li' data-type='quicklistIter *' data-ref="378li">li</dfn>);</td></tr>
<tr><th id="151">151</th><td><em>void</em> <dfn class="decl" id="quicklistRotate" title='quicklistRotate' data-ref="quicklistRotate">quicklistRotate</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col9 decl" id="379quicklist" title='quicklist' data-type='quicklist *' data-ref="379quicklist">quicklist</dfn>);</td></tr>
<tr><th id="152">152</th><td><em>int</em> <dfn class="decl" id="quicklistPopCustom" title='quicklistPopCustom' data-ref="quicklistPopCustom">quicklistPopCustom</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col0 decl" id="380quicklist" title='quicklist' data-type='quicklist *' data-ref="380quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col1 decl" id="381where" title='where' data-type='int' data-ref="381where">where</dfn>, <em>unsigned</em> <em>char</em> **<dfn class="local col2 decl" id="382data" title='data' data-type='unsigned char **' data-ref="382data">data</dfn>,</td></tr>
<tr><th id="153">153</th><td>                       <em>unsigned</em> <em>int</em> *<dfn class="local col3 decl" id="383sz" title='sz' data-type='unsigned int *' data-ref="383sz">sz</dfn>, <em>long</em> <em>long</em> *<dfn class="local col4 decl" id="384sval" title='sval' data-type='long long *' data-ref="384sval">sval</dfn>,</td></tr>
<tr><th id="154">154</th><td>                       <em>void</em> *(*<dfn class="local col5 decl" id="385saver" title='saver' data-type='void *(*)(unsigned char *, unsigned int)' data-ref="385saver">saver</dfn>)(<em>unsigned</em> <em>char</em> *<dfn class="local col6 decl" id="386data" title='data' data-type='unsigned char *' data-ref="386data">data</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="387sz" title='sz' data-type='unsigned int' data-ref="387sz">sz</dfn>));</td></tr>
<tr><th id="155">155</th><td><em>int</em> <dfn class="decl" id="quicklistPop" title='quicklistPop' data-ref="quicklistPop">quicklistPop</dfn>(<a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col8 decl" id="388quicklist" title='quicklist' data-type='quicklist *' data-ref="388quicklist">quicklist</dfn>, <em>int</em> <dfn class="local col9 decl" id="389where" title='where' data-type='int' data-ref="389where">where</dfn>, <em>unsigned</em> <em>char</em> **<dfn class="local col0 decl" id="390data" title='data' data-type='unsigned char **' data-ref="390data">data</dfn>,</td></tr>
<tr><th id="156">156</th><td>                 <em>unsigned</em> <em>int</em> *<dfn class="local col1 decl" id="391sz" title='sz' data-type='unsigned int *' data-ref="391sz">sz</dfn>, <em>long</em> <em>long</em> *<dfn class="local col2 decl" id="392slong" title='slong' data-type='long long *' data-ref="392slong">slong</dfn>);</td></tr>
<tr><th id="157">157</th><td><em>unsigned</em> <em>int</em> <dfn class="decl" id="quicklistCount" title='quicklistCount' data-ref="quicklistCount">quicklistCount</dfn>(<em>const</em> <a class="typedef" href="#quicklist" title='quicklist' data-type='struct quicklist' data-ref="quicklist">quicklist</a> *<dfn class="local col3 decl" id="393ql" title='ql' data-type='const quicklist *' data-ref="393ql">ql</dfn>);</td></tr>
<tr><th id="158">158</th><td><em>int</em> <dfn class="decl" id="quicklistCompare" title='quicklistCompare' data-ref="quicklistCompare">quicklistCompare</dfn>(<em>unsigned</em> <em>char</em> *<dfn class="local col4 decl" id="394p1" title='p1' data-type='unsigned char *' data-ref="394p1">p1</dfn>, <em>unsigned</em> <em>char</em> *<dfn class="local col5 decl" id="395p2" title='p2' data-type='unsigned char *' data-ref="395p2">p2</dfn>, <em>int</em> <dfn class="local col6 decl" id="396p2_len" title='p2_len' data-type='int' data-ref="396p2_len">p2_len</dfn>);</td></tr>
<tr><th id="159">159</th><td><span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="quicklistGetLzf" title='quicklistGetLzf' data-ref="quicklistGetLzf">quicklistGetLzf</dfn>(<em>const</em> <a class="typedef" href="#quicklistNode" title='quicklistNode' data-type='struct quicklistNode' data-ref="quicklistNode">quicklistNode</a> *<dfn class="local col7 decl" id="397node" title='node' data-type='const quicklistNode *' data-ref="397node">node</dfn>, <em>void</em> **<dfn class="local col8 decl" id="398data" title='data' data-type='void **' data-ref="398data">data</dfn>);</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><u>#<span data-ppcond="161">ifdef</span> <span class="macro" data-ref="_M/REDIS_TEST">REDIS_TEST</span></u></td></tr>
<tr><th id="162">162</th><td><em>int</em> quicklistTest(<em>int</em> argc, <em>char</em> *argv[]);</td></tr>
<tr><th id="163">163</th><td><u>#<span data-ppcond="161">endif</span></u></td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><i>/* Directions for iterators */</i></td></tr>
<tr><th id="166">166</th><td><u>#define <dfn class="macro" id="_M/AL_START_HEAD" data-ref="_M/AL_START_HEAD">AL_START_HEAD</dfn> 0</u></td></tr>
<tr><th id="167">167</th><td><u>#define <dfn class="macro" id="_M/AL_START_TAIL" data-ref="_M/AL_START_TAIL">AL_START_TAIL</dfn> 1</u></td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td><u>#<span data-ppcond="31">endif</span> /* __QUICKLIST_H__ */</u></td></tr>
<tr><th id="170">170</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='aof.c.html'>codebrowser/src/aof.c</a><br/>Generated on <em>2017-Oct-16</em> from project codebrowser revision <em>with-deprecated-diskstore-4466-g2bf8c2c</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
